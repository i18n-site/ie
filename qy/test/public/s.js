var l,u,w,f,m,d,p,g;f=console;u=location.host;({protocol:p,host:u}=location);g=e=>new Promise(r=>setTimeout(r,e));d=()=>parseInt(new Date/1e3);w=async e=>{var r,a,c,i,o,t,n,s;if(s=new URL(e.url),s.host!==u){a={credentials:"omit",mode:"cors"};try{t=await fetch(e,a)}catch(h){c=h,delete a.mode,t=await fetch(e,a)}}else t=await fetch(e);return t&&(i=[200,301,304].includes(t.status),i&&(t.ok=i,o=new Response(t.clone().body,t),r=t.headers.get("cache-control"),r&&r!=="no-cache"&&(n=/max-age=(\d+)/.exec(r),n&&(n=+n[1],n>0&&o.headers.set("-",(d()+n).toString(36)))),caches.open(2).then(h=>h.put(e,o)))),t};m=async e=>{var r,a;for(a=0;;)try{return await w(e)}catch(c){if(r=c,a++>9)throw r;f.error(a,e,r)}};l={install:e=>{e.waitUntil(skipWaiting())},activate:e=>{e.waitUntil(clients.claim())},fetch:e=>{var r,a,c,i,o;i=e.request,{url:o,method:a}=i,o.startsWith("http")&&(["GET","OPTIONS"].indexOf(a)<0||({host:r}=o=new URL(o),{pathname:c}=o,r===u&&!c.includes(".")&&(i=new Request("/",{method:a})),e.respondWith(caches.match(i).then(async t=>{var n,s;if(t&&parseInt(t.headers.get("-"),36)>d())return t;try{s=await m(i)}catch(h){if(n=h,t)return f.error(n),t;throw n}return t&&t.ok&&!s.ok?t:s}))))}};(()=>{var e,r;for(e in l)r=l[e],addEventListener(e,r)})()
